<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spread Demo</title>
    <script src="./type-demo.js" type="module"></script>
    <style>
        input {
            font-family: monospace;
        }
        .result {
            font-family: monospace;
            margin: 0.5rem;
            white-space: pre-wrap;
        }
        .errors {
            font-family: monospace;
            margin: 0.5rem;
            white-space: pre-wrap;
        }
    </style>
</head>
<body>
    <h1>Check Function Calls with Spread (...)</h1>
    <h3>Parameter types:</h3>
    <p><input class="parameters" type="text" size="80" value="(number?, ...string[])"></input></p>

    <h3>Argument types:</h3>
    <p><input class="arguments" type="text" size="80" value="[number, string, ...string[]]"></input></p>
    
    <h3>Generated TypeScript code:</h3>
    <div class="result">
declare function fn(p0?: number, ...rest: string[]) : void;

declare const a0 : number;
declare const a1 : string;
declare const a2 : string[];

fn(a0, a1, ...a2);
    </div>
    <p><a class="playground" href="https://www.typescriptlang.org/play?ts=4.7.4#code/CYUwxgNghgTiAEAzArgOzAFwJYHtVNQAoAHABgH4AueVZAWwCMQYAaeAOk7gGcNreYWVAHMA2gF0AlPGoA3HFmABuAFChIsBGDy94UUjJr0mMVeuhx421LqgBGQwKHCz4C1p0Y9AJkcZBIhKqiET6bPZsnOxQ3pJKQA">View in Playground</a></p>
    <h2>Callionica's spread checker says:</h2>
    <div class="errors">No errors</div>
    <h2>Notes</h2>
    <p>Provide types for function parameters and arguments and the spread checker will tell you if the call would succeed.</p>
    <p>This page also generates TypeScript code that will help you understand how the spread checker has understood your types,
        and a link to the playground so you can see how TypeScript handles the same situation.
    </p>
    <p></p>
    <p>This is a simple demo with limited power in parsing and typechecking.</p>
    <p>It's designed to detect whether spreads in a function call are valid in basic scenarios involving primitive types.</p>
    <p>Stick to `number` and `string`, and optionals, tuples, arrays, spread/rests, and unions of `number` and `string`.</p>
    <p>The type parser does not handle names, so optional `?` goes after the type.</p>
    <p>Optional does not add `undefined` to the type as far as our spread checking algorithm goes, so add `undefined` by hand if you need to.</p>
    <p>The type parser does not handle names, objects, generics, inference. It's a demo!</p>
</body>
</html>